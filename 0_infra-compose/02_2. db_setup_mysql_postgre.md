# ğŸ—ƒï¸ Docker ê¸°ë°˜ MySQL & PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶• ìš”ì•½ (ì˜ˆì‹œ)

---

## ğŸ“ í´ë” êµ¬ì¡°

```
/opt/home-server/
â”œâ”€â”€ mysql/             # MySQL ë°ì´í„° ì €ì¥ì†Œ
â”‚   â””â”€â”€ data/
â”œâ”€â”€ postgresql/        # PostgreSQL ë°ì´í„° ì €ì¥ì†Œ
â”‚   â””â”€â”€ data/
â”œâ”€â”€ .env               # í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ (ë¹„ê³µê°œ)
â”œâ”€â”€ docker-compose.yml # ì „ì²´ ì„œë¹„ìŠ¤ í†µí•© ì„¤ì •
```

---

## âš™ï¸ .env ì˜ˆì‹œ (ì‹¤ì œ ë¹„ë°€ë²ˆí˜¸ëŠ” ì…ë ¥í•˜ì§€ ì•ŠìŒ)

```env
# MySQL
MYSQL_ROOT_PASSWORD=<your_mysql_root_password>
MYSQL_DATABASE=arami_db
MYSQL_USER=arami
MYSQL_PASSWORD=<your_mysql_password>

# PostgreSQL
POSTGRES_DB=arami_db
POSTGRES_USER=arami
POSTGRES_PASSWORD=<your_postgres_password>
```

---

## ğŸ³ docker-compose.yml êµ¬ì„± ìš”ì•½

```yaml
services:
  mysql:
    image: mysql:8.0
    container_name: mysql
    env_file:
      - .env
    ports:
      - "3306:3306"
    volumes:
      - ./mysql/data:/var/lib/mysql
    networks:
      - app-net

  postgres:
    image: postgres:15
    container_name: postgres
    env_file:
      - .env
    ports:
      - "5432:5432"
    volumes:
      - ./postgresql/data:/var/lib/postgresql/data
    networks:
      - app-net

networks:
  app-net:
    driver: bridge
```

---

## ğŸš€ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
cd /opt/home-server
docker compose up -d
```

---

## ğŸ” DB ì ‘ì† í…ŒìŠ¤íŠ¸

### âœ… MySQL ì ‘ì†

```bash
docker exec -it mysql mysql -u arami -p
# ë¹„ë°€ë²ˆí˜¸: <your_mysql_password>
```

### âœ… PostgreSQL ì ‘ì†

```bash
docker exec -it postgres psql -U arami -d arami_db
# ì¢…ë£Œ: \q
```

---

## ğŸ’¾ ë°ì´í„° ìœ ì§€ ì „ëµ

- `./mysql/data` ë° `./postgresql/data`ì— ë°ì´í„° ì˜ì† ì €ì¥
- ì»¨í…Œì´ë„ˆ ì‚­ì œí•´ë„ ë°ì´í„°ëŠ” ìœ ì§€ë¨
- ìš´ì˜ ì‹œ ì£¼ê¸°ì ì¸ `mysqldump` / `pg_dump` ë°±ì—… ê¶Œì¥

---

## âœ… ë‹¤ìŒ ë‹¨ê³„

- NestJS ë˜ëŠ” FastAPIì—ì„œ DB ì—°ê²° í…ŒìŠ¤íŠ¸
- ORM (TypeORM / Prisma / Sequelize) ì—°ë™
- ê¸°ë³¸ í…Œì´ë¸” ë° ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€
